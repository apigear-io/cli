$schema: "http://json-schema.org/draft-07/schema#"
title: "Scenario 1.0 Schema"
type: object
additionalProperties: false
properties:
  schema:
    type: string
    enum: ["apigear.scenario/1.0"]
    description: "The simulation scenario specification version of this document."
  name:
    type: string
  version:
    type: string
  interfaces:
    type: array
    items:
      $ref: "#/definitions/Interface"
  sequences:
    type: array
    items:
      $ref: "#/definitions/Sequence"
  additionalProperties: false

definitions:
  Interface:
    type: object
    description: "An interface is a collection of endpoints."
    properties:
      name:
        type: string
        description: "The name of the interface."
      properties:
        type: object
        description: "The properties of the interface."
      operations:
        type: array
        description: "The operations of the interface."
        items:
          $ref: "#/definitions/Operation"
    additionalProperties: false
  Operation:
    type: object
    description: "An operation is a n endpoint inside an interface."
    properties:
      name:
        type: string
        description: "The name of the operation."
      description:
        type: string
        description: "The description of the operation."
      actions:
        type: array
        description: "The actions of the operation."
        items:
          type: object
          description: "The action of the operation."
      return:
        type: object
        description: "The return value of the operation."
      additionalProperties: false
  Sequence:
    description: "A sequence is a list of steps to be performed."
    type: object
    properties:
      name:
        description: "The name of the sequence."
        type: string
      interface:
        description: "The default interface of the sequence."
        type: string
      interval:
        description: "The interval between each step."
        type: integer
      loop:
        description: "If the sequence should be repeated forever"
        type: boolean
      repeat:
        description: "The number of times the sequence should be repeated."
        type: integer
      steps:
        description: "The steps of the sequence."
        type: array
        items:
          $ref: "#/definitions/Step"
    additionalProperties: false
  Step:
    type: object
    properties:
      name:
        description: "The name of the step."
        type: string
      actions:
        description: "The actions of the step."
        type: array
        items:
          type: object
    additionalProperties: false
