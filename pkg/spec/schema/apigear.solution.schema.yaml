$schema: "http://json-schema.org/draft-07/schema#"
title: "ApiGear Solution 1.0 Schema"
type: object
additionalProperties: false
properties:
  schema:
    type: string
    enum: ["apigear.solution/1.0"]
    description: "The ApiGear Solution specification version of this document."
  name: { type: string }
  version: { type: string }
  description: { type: string }
  rootDir: { type: string }
  meta: { type: object }
  layers: # array of layers
    type: array
    items: # each interface is and object with at least a name
      $ref: "#/definitions/Layer"
definitions:
  Layer:
    type: object
    required: [input, output, template]
    additionalProperties: false
    properties:
      name: { type: string }
      description: { type: string }
      rootDir: { type: string }
      input: { type: array, items: { type: string } }
      output: { type: string }
      meta: { type: object }
      template: { type: string }
      features: { type: array, items: { type: string } }
      dryRun: { type: boolean }
      force: { type: boolean }
