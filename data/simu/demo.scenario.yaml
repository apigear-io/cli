schema: apigear.scenario/1.0

name: demo
version: "1.0"

services:
  - name: demo.Counter
    properties:
      - name: demo
        value: 0
    methods:
      - name: increment
        actions:
          - name: set
            params:
              - name: count
                value: 0
          - name: add
            params:
              - name: count
                value: $params.step
      - name: decrement
        actions:
          - name: set
            params:
              - name: count
                value: 0
          - name: sub
            params:
              - name: count
                value: $params.step
    playbook:
      loop: true
      interval: 1000
      sequence:
        - name: count up
          actions:
            - name: set
              params:
                - name: count
                  value: 1
        - name: count down
          actions:
            - name: set
              params:
                - name: count
                  value: 0
